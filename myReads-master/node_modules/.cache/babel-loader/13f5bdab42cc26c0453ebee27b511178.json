{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\The Jhingy Father\\\\Downloads\\\\New folder (5)\\\\prio\\\\test\\\\taslema\\\\myReads-master\\\\src\\\\components\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport * as BooksAPI from '../BooksAPI';\nimport Book from \"./Book\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FitchBook = ({\n  books,\n  updateBookCategory\n}) => {\n  _s();\n\n  console.log(\"print here\");\n  const [query, setQuery] = useState(\"\");\n  const [bookResult, setBookResult] = useState([]);\n  useEffect(() => {\n    const booksResult = setTimeout(async () => {\n      {\n        /* \n        // fitch books and return book to its section the clear the book after time    \n        */\n      }\n\n      if (query.length !== '' && query.length > 0) {\n        await BooksAPI.search(query.trim()).then(res => {\n          if (res.error) {\n            setBookResult([]);\n          } else {\n            res.forEach(searchedBook => {\n              searchedBook.shelf = 'none';\n              books.map(book => book.id !== searchedBook.id ? searchedBook.shelf = 'none' : searchedBook.shelf = book.shelf);\n              console.log(\"print here 22\");\n            });\n            setBookResult(res);\n          }\n        });\n      } else if (query.length === 0) {\n        setBookResult([]);\n      }\n    }, 50);\n    return () => {\n      clearTimeout(booksResult);\n    };\n  }, [query, books]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-bar\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"close-search\",\n          children: \"Exit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-books-input-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search Here\",\n            value: query,\n            onChange: event => setQuery(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-results\",\n        children: /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"books-grid\",\n          children: bookResult.length > 0 ? bookResult === null || bookResult === void 0 ? void 0 : bookResult.filter(b => b.title.toLowerCase().includes(query.toLowerCase())).map(searchedBook => /*#__PURE__*/_jsxDEV(Book, {\n            book: searchedBook,\n            updateBookCategory: updateBookCategory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 102\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(FitchBook, \"KjVrCA+1iI68jVtn67ycvgI5HQI=\");\n\n_c = FitchBook;\nFitchBook.propTypes = {\n  books: PropTypes.array.isRequired,\n  updateBookCategory: PropTypes.func\n};\nexport default FitchBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"FitchBook\");","map":{"version":3,"sources":["C:/Users/The Jhingy Father/Downloads/New folder (5)/prio/test/taslema/myReads-master/src/components/Search.js"],"names":["useEffect","useState","BooksAPI","Book","Link","PropTypes","FitchBook","books","updateBookCategory","console","log","query","setQuery","bookResult","setBookResult","booksResult","setTimeout","length","search","trim","then","res","error","forEach","searchedBook","shelf","map","book","id","clearTimeout","event","target","value","filter","b","title","toLowerCase","includes","propTypes","array","isRequired","func"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport * as BooksAPI from '../BooksAPI'; \nimport Book from \"./Book\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nconst FitchBook = ({ books, updateBookCategory }) => {\n  console.log(\"print here\")\n    const [query, setQuery] = useState(\"\");\n    const [bookResult, setBookResult] = useState([]);\n     useEffect(() => {\n    const booksResult = setTimeout( async () => {  {/* \n    // fitch books and return book to its section the clear the book after time    \n    */}\n        if(query.length !== '' && query.length > 0) {\n            await BooksAPI.search(query.trim()).then(res => {\n              if(res.error) {\n                setBookResult([])\n                \n              } else {\n                res.forEach((searchedBook) => {\n                  searchedBook.shelf = 'none'\n                  books.map((book) => (  \n                    book.id !== searchedBook.id\n                    ?\n                    searchedBook.shelf = 'none'\n                    :\n                    searchedBook.shelf = book.shelf                    \n                    ))\n                    console.log(\"print here 22\")\n                  })\n                  setBookResult(res)\n              } \n            })\n          } else if(query.length === 0) {\n            setBookResult([])\n          }}, 50);\n\n       return () => {\n            clearTimeout(booksResult);\n        } \n\n    }, [query, books]);\n    \n    return <>\n    <div className=\"search-books\">\n          <div className=\"search-books-bar\">\n          <Link to='/' className=\"close-search\">Exit</Link>\n            \n            <div className=\"search-books-input-wrapper\">\n              <input\n                type=\"text\"\n                placeholder=\"Search Here\"\n                value={query}\n                onChange={(event) => setQuery(event.target.value)}/>\n            </div>\n          </div>\n          \n          <div className=\"search-books-results\">\n            <ol className=\"books-grid\">\n        {bookResult.length > 0 ?\n\t\tbookResult?.filter(b => b.title.toLowerCase().includes(query.toLowerCase())).map((searchedBook)=> (<Book\n                  book={searchedBook}\n                  updateBookCategory={updateBookCategory}\n                />             \n              )) \n              :\n              <p></p>             \n        }\n         \n            </ol>\n          </div>\n        </div>\n    </>\n};\n\nFitchBook.propTypes = {\n  books: PropTypes.array.isRequired,\n  updateBookCategory: PropTypes.func,\n}\n\nexport default FitchBook"]},"metadata":{},"sourceType":"module"}